[setting.weth_address]

[invoke.configureWethCollateral]
target = ["system.CoreProxy"]
fromCall.func = "owner"
func = "configureCollateral"  # "args" see below in the multiline block

[[invoke.configureWethCollateral.args]]
tokenAddress = "<%= settings.weth_address %>"
oracleNodeId = "<%= extras.eth_oracle_id %>"
issuanceRatioD18 = "<%= parseEther('3') %>"
liquidationRatioD18 = "<%= parseEther('1.5') %>"
liquidationRewardD18 = "<%= parseEther('0.01') %>"
minDelegationD18 = "<%= parseEther('0.01') %>"
depositingEnabled = true

[invoke.CoreProxy_setPoolCollateralConfiguration_weth]
target = ["system.CoreProxy"]
fromCall.func = "getPoolOwner"
fromCall.args = ["<%= settings.sc_pool_id %>"]
func = "setPoolCollateralConfiguration"
args = [
    "<%= settings.sc_pool_id %>",
    "<%= settings.weth_address %>",
    { collateralLimitD18 = "<%= settings.weth_max_collateral %>", issuanceRatioD18 = 0 },
]
